<!--pages/profile-update/profile-update.wxml-->
<Topbar2 bindlanguagechanged="handleLanguageChanged" />
<view class="white tc bold"
  style="margin: 0px; justify-content: center; background-color: black; border-top: 1rpx solid white; border-bottom: 1rpx solid white;"> 
  <wux-accordion-group isOpen="{{!isWaiverSigned}}" class="consent-form">
    <wux-accordion key="first" class="consent-form-title" title="{{strings.waiver_title || 'Informed Consent Form'}}">
      <rich-text class="waiver-text" nodes="{{strings.waiver_form || waiver_default}}" >
      
      </rich-text>
      <view class="confirm-waiver-box">
        <view class="confirm-waiver">{{strings.waiver_confirm || "I HEREBY AFFIRM THAT I HAVE READ AND FULLY UNDERSTAND THE ABOVE STATEMENTS."}}</view>
        <checkbox-group name="waiver" bindchange="updateWaiver" >
          <label class="checkbox">
            <checkbox value="waiver_signed" color="black" checked="{{user.waiver_signed}}"/>
          </label>
      </checkbox-group>
      </view>
		</wux-accordion>
  </wux-accordion-group>
</view>

<view class="white tc bold"
  style="margin: 0px; justify-content: center; background-color: black; border-top: 1rpx solid white; border-bottom: 1rpx solid white; padding: 20px">
  {{ isOtherUser ? strings.personal_info : strings.my_personal_info }}
</view>
<view style="background-color: black; margin: 0; color: white">
  <form bindsubmit="formSubmit">

    <ProfileForm strings="{{strings}}" user="{{user}}" birthday="{{user.birthday}}" />
    <view style="justify-content: center; margin-top: 5px">{{strings.my_body}}</view>
    <BodyNowForm strings="{{strings}}" user="{{user}}" />
    <view style="justify-content: center; margin-top: 5px">{{strings.targets}}</view>
    <BodyTargetForm strings="{{strings}}" user="{{user}}" />
    <view>
      <text>{{strings.avatar}}</text>
      <view bindtap="uploadImage"
        style="border-radius: 2px; background-color: white; color: #555555; width: 50px; height: 50px; font-size: 28px; justify-content: center; margin-left: 5px;">
        +</view>
    </view>
    <view style="margin-left: 10px; font-size: 14px; display: block;">{{strings.save1}} <navigator
        style="display: inline; text-decoration: underline;"
        url="../../pages/terms-and-conditions/terms-and-conditions">{{strings.save2}}</navigator> {{strings.save3}}</view>
    <button style="background-color: #5C0C17; width: 95%; border-radius: 2px; margin-bottom: 10px; color: white"
      form-type="submit">{{strings.save}}</button>
  </form>
</view>